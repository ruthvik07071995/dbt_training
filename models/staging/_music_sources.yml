version: 2

sources:
    - name: music_db
      database: music
      schema: dwh_training

      tables:
        - name: album

          columns:
            - name: albumid
              tests:
                - unique
                - not_null

        - name: artist

          columns:
            - name: artistid
              tests:
                - unique
                - not_null

        - name: customer

          columns:
            - name: customerid
              tests:
                - unique
                - not_null

        - name: employee

          columns:
            - name: employeeid
              tests:
                - unique
                - not_null

        - name: genre

          columns:
            - name: genreid
              tests:
                - unique
                - not_null

        - name: invoice

          columns:
            - name: invoiceid
              tests:
                - unique
                - not_null

        - name: invoiceline

          columns:
            - name: invoicelineid
              tests:
                - unique
                - not_null

        - name: mediatype

          columns:
            - name: mediatypeid
              tests:
                - unique
                - not_null

        - name: playlist

          columns:
            - name: playlistid
              tests:
                - unique
                - not_null
              
        - name: playlisttrack

          columns:
            - name: "playlistid || '-' || trackid"
              tests:
                - unique
                - not_null

        - name: track
          
          columns:
            - name: trackid
              tests:
                - unique
                - not_null